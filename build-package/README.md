# 新旧方法对比

| **特性**               | **`python -m build`**                     | **`python setup.py sdist bdist_wheel`**   |
|------------------------|-------------------------------------------|-------------------------------------------|
| **隔离构建**           | ✅ 自动创建临时虚拟环境                   | ❌ 直接使用当前环境                       |
| **依赖管理**           | ✅ 通过 `pyproject.toml` 声明             | ❌ 依赖 `setup_requires`（已弃用）        |
| **构建安全性**         | ✅ 防止恶意代码执行（避免直接运行 `setup.py`） | ❌ `setup.py` 可执行任意代码（存在安全风险） |
| **标准兼容性**         | ✅ 符合 PEP 517/518                       | ❌ 旧标准（已过时）                       |
| **构建速度**           | ✅ 增量构建更快                           | ❌ 较慢                                   |

---

### **说明**：
- **✅** 表示支持或推荐。
- **❌** 表示不支持或存在风险。
- `python -m build` 是 PEP 517/518 推荐的现代构建工具，具有隔离性和安全性优势。
- `python setup.py` 是旧式构建方式，存在安全风险且兼容性较差，建议逐步迁移。